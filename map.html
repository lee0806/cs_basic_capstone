<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script>
    // 주소창에서 key 가져오기
    const params = new URLSearchParams(window.location.search);
    const appKey = params.get('key');

    const script = document.createElement('script');
    script.src = `https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=${appKey}`;
    document.head.appendChild(script);
  </script>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    #map_div { width: 100%; height: 100%; }
  </style>
</head>
<body>
  <div id="map_div"></div>
  <script>
    let map;
    const checkTmapLoaded = setInterval(() => {
      if (typeof Tmapv2 !== 'undefined') {
        clearInterval(checkTmapLoaded);
        map = new Tmapv2.Map("map_div", {
          center: new Tmapv2.LatLng(37.5665, 126.9780),
          width: "100%",
          height: "100%",
          zoom: 15
        });
      }
    }, 200);
  </script>
</body>
</html>